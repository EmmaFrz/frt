{"ast":null,"code":"import _defineProperty from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/emmanuel/Documents/frt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/emmanuel/Documents/frt/src/routes/Paises/register.js\";\nimport React from \"react\";\nimport { Form, Button, Icon, Input, Select } from \"antd\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nvar baseUrl = 'http://74.127.61.115:9900/graphql';\nvar Option = Select.Option;\n\nvar Divisas =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Divisas, _React$Component);\n\n  function Divisas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Divisas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Divisas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      formValue: {},\n      token: localStorage.getItem(\"token\"),\n      dataSource: []\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      console.log(_this.state.formValue);\n      var arr = [];\n      arr.push.apply(arr, _toConsumableArray(_this.state.states));\n      console.info(arr);\n      axios.post(baseUrl, {\n        variables: {\n          name: _this.state.formValue.name,\n          currency: {\n            id: _this.state.formValue.currency\n          },\n          states: arr\n        },\n        query: \"\\n\\t\\t\\tmutation createNewCountry($name: String!, $currency: ID!, $states: [String!]!){\\n\\t\\t\\t  createCountry(name: $name, currency: $currency, states: $states){\\n\\t\\t\\t    id,\\n\\t\\t\\t    name,   \\n\\t\\t\\t    currency{\\n\\t\\t\\t    \\tid,\\n\\t\\t\\t    \\tname,\\n\\t\\t\\t    \\tshort\\n\\t\\t\\t    } ,\\n\\t\\t\\t    states,\\n\\t\\t\\t  }\\n\\t\\t\\t}  \\t\\t\\t\\n  \\t\\t\",\n        headers: {\n          'x-token': _this.state.token,\n          'Content-Type': 'application/json'\n        }\n      }).then(function (data) {\n        console.log(data.data); //this.props.history.push('/paises');\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        formValue: _objectSpread({}, _this.state.formValue, _defineProperty({}, event.target.name, event.target.value))\n      });\n    };\n\n    _this.handleCurrencyChange = function (event) {\n      _this.setState({\n        formValue: _objectSpread({}, _this.state.formValue, {\n          currency: event\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Divisas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.post(baseUrl, {\n        query: \"\\n\\t\\t    {\\n\\t\\t      currencies{\\n\\t\\t        edges{\\n\\t\\t          name,\\n\\t\\t          short,\\n\\t\\t          id\\n\\t\\t        }\\n\\t\\t      }\\n\\t\\t    }\\n\\t\\t  \"\n      }).then(function (res) {\n        _this2.setState({\n          dataSource: res.data.data.currencies.edges\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          padding: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"T\\xFA Seccion de registro de paises\"), React.createElement(Link, {\n        to: \"/paises\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Regresar \", React.createElement(Icon, {\n        type: \"undo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(Form, {\n        layout: \"vertical\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        label: \"Nombre del pais\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"name\",\n        value: this.state.formValue.name,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"Moneda local\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: \"Seleccion\",\n        onChange: this.handleCurrencyChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.dataSource.map(function (data) {\n        return React.createElement(Option, {\n          value: data.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, data.name);\n      }))), React.createElement(Form.Item, {\n        label: \"Estados\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"states\",\n        value: this.state.formValue.states,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Registrar nueva divisa\"))));\n    }\n  }]);\n\n  return Divisas;\n}(React.Component);\n\nexport default Divisas;","map":{"version":3,"sources":["/home/emmanuel/Documents/frt/src/routes/Paises/register.js"],"names":["React","Form","Button","Icon","Input","Select","Link","axios","baseUrl","Option","Divisas","state","formValue","token","localStorage","getItem","dataSource","handleSubmit","event","preventDefault","console","log","arr","push","states","info","post","variables","name","currency","id","query","headers","then","data","catch","err","message","handleChange","setState","target","value","handleCurrencyChange","res","currencies","edges","padding","map","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Form, Button, Icon, Input, Select, } from \"antd\";\nimport {Link} from 'react-router-dom'\nimport axios from 'axios';\nconst baseUrl = 'http://74.127.61.115:9900/graphql';\nconst { Option } = Select;\n\nclass Divisas extends React.Component{\n\t\n\tstate = {\n\t\tformValue:{\t\n\t\t},\n\t\ttoken:localStorage.getItem(\"token\"),\n\t\tdataSource:[],\n\t}\n\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(this.state.formValue)\n\t\tlet arr = []\n\t\tarr.push(...this.state.states)\n\t\tconsole.info(arr)\n\t\taxios.post(baseUrl,{\n  \t\tvariables:{\n  \t\t\tname:this.state.formValue.name,\n  \t\t\tcurrency:{id:this.state.formValue.currency},\n  \t\t\tstates:arr\n  \t\t},\n  \t\tquery:`\n\t\t\tmutation createNewCountry($name: String!, $currency: ID!, $states: [String!]!){\n\t\t\t  createCountry(name: $name, currency: $currency, states: $states){\n\t\t\t    id,\n\t\t\t    name,   \n\t\t\t    currency{\n\t\t\t    \tid,\n\t\t\t    \tname,\n\t\t\t    \tshort\n\t\t\t    } ,\n\t\t\t    states,\n\t\t\t  }\n\t\t\t}  \t\t\t\n  \t\t`,\n\t\theaders: {\n    \t\t'x-token':this.state.token,\n    \t\t'Content-Type': 'application/json'\n\n  \t\t},  \t\t\n\t\t}).then((data) => {\n\t\t\tconsole.log(data.data)\n\t\t\t//this.props.history.push('/paises');\n\t\t}).catch((err) => {\n\t\t\tconsole.log(err.message)\n\t\t})\n\t}\n\n\thandleChange = (event) => {\n\t\t\tthis.setState({\n\t\t\t\tformValue:{\n\t\t\t\t\t...this.state.formValue,\n\t\t\t\t\t[event.target.name]:event.target.value,\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\thandleCurrencyChange = (event) => {\n\t\tthis.setState({\n\t\t\tformValue:{\n\t\t\t\t...this.state.formValue,\n\t\t\t\tcurrency:event\n\t\t\t}\n\t\t})\n\t}\n\n\n\tcomponentDidMount(){\n\t\taxios.post(baseUrl,{\n\t\t  query:`\n\t\t    {\n\t\t      currencies{\n\t\t        edges{\n\t\t          name,\n\t\t          short,\n\t\t          id\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t  `\n\t\t}).then((res) => {\n\t\t  this.setState({\n\t\t    dataSource:res.data.data.currencies.edges\n\t\t  })\n\t\t}).catch((err) =>{\n\t\t  console.log(err.message)\n\t\t})\n\t}\n\n\trender(){\n\t\treturn (\n\t\t<div style={{padding: '30px' }}>\n\t\t\t<h3>Tú Seccion de registro de paises</h3>\t  \n\t\t\t<Link to='/paises'>Regresar <Icon type=\"undo\" /></Link>\t\t\t\n\t\t\t<Form layout='vertical' onSubmit={this.handleSubmit}>\n\t\t\t\t<Form.Item label=\"Nombre del pais\">\n\t\t\t\t\t<Input name='name' value={this.state.formValue.name} onChange={this.handleChange}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"Moneda local\">\n\t\t\t\t\t<Select defaultValue=\"Seleccion\" onChange={this.handleCurrencyChange}>\n\t\t\t\t\t\t{this.state.dataSource.map((data) => {\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<Option value={data.id}>{data.name}</Option>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"Estados\">\n\t\t\t\t\t<Input name=\"states\" value={this.state.formValue.states} onChange={this.handleChange}/>\n\t\t\t\t</Form.Item>\t\t\t\t\t\t\t\n\t\t\t\t<Form.Item>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Registrar nueva divisa</Button>\n\t\t\t\t</Form.Item>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t</Form>\n\t\t</div>\n\t\t);\n\t}\n}\nexport default Divisas;\n"]},"metadata":{},"sourceType":"module"}