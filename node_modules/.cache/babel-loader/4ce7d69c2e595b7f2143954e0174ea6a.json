{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\Desktop\\\\emma\\\\ecuador\\\\frt\\\\src\\\\routes\\\\Sucursales\\\\register.js\";\nimport React from \"react\";\nimport { Form, Button, Icon, Input, Select } from \"antd\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nvar Option = Select.Option;\nvar baseURL = 'http://74.127.61.115:9900/graphql';\n\nvar SucursalRegister =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SucursalRegister, _React$Component);\n\n  function SucursalRegister() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SucursalRegister);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SucursalRegister)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      countries: [],\n      formValue: {},\n      token: localStorage.getItem(\"token\")\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      axios.post(baseURL, {\n        variables: {\n          name: _this.state.formValue.name,\n          country: _this.state.formValue.country,\n          state: _this.state.formValue.states,\n          address: _this.state.formValue.address\n        },\n        query: \"\\n\\t\\t\\tmutation createNewBranchOffice($name: String!, $country: ID!, $state: String!, $address: String!){\\n\\t\\t\\t\\tcreateBranchOffice(\\n\\t\\t\\t    name: $name,\\n\\t\\t\\t    country: $country,\\n\\t\\t\\t    state: $state,\\n\\t\\t\\t    address: $address\\n\\t\\t\\t  ){\\n\\t\\t\\t    id,\\n\\t\\t\\t    name,\\n\\t\\t\\t    country{\\n\\t\\t\\t      id,\\n\\t\\t\\t      name,\\n\\t\\t\\t      currency{\\n\\t\\t\\t        id,\\n\\t\\t\\t        name,\\n\\t\\t\\t        short\\n\\t\\t\\t      },\\n\\t\\t\\t      states\\n\\t\\t\\t    },\\n\\t\\t\\t    state,\\n\\t\\t\\t    address\\n\\t\\t\\t  }\\n\\t\\t\\t}\\n  \\t\\t\",\n        headers: {\n          'x-token': _this.state.token,\n          'Content-Type': 'application/json'\n        }\n      }).then(function (data) {\n        console.log(data);\n\n        _this.props.history.push('/sucursales');\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    };\n\n    _this.handleSelectChange = function (event) {\n      _this.setState({\n        formValue: _objectSpread({}, _this.state.formValue, {\n          country: event\n        })\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        formValue: _objectSpread({}, _this.state.formValue, _defineProperty({}, event.target.name, event.target.value))\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SucursalRegister, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.post(baseURL, {\n        query: \"\\n\\t        {\\n\\t          countries{\\n\\t            edges{\\n\\t              id,\\n\\t              name,\\n\\t              currency{\\n\\t                name,\\n\\t                short,\\n\\t                id\\n\\t              },\\n\\t              states\\n\\t            }\\n\\t          }\\n\\t        }\\n\\t      \"\n      }).then(function (res) {\n        _this2.setState({\n          countries: res.data.data.countries.edges\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.formValue);\n      return React.createElement(\"div\", {\n        style: {\n          padding: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"T\\xFA Seccion de registro de sucursales asociados\"), React.createElement(Link, {\n        to: \"/sucursales\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Regresar \", React.createElement(Icon, {\n        type: \"undo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(Form, {\n        layout: \"vertical\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        label: \"Nombre de la sucursal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"name\",\n        value: this.state.formValue.name,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"Direccion\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"address\",\n        value: this.state.formValue.address,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"Estado\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"states\",\n        value: this.state.formValue.states,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"Pais\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: \"Seleccion\",\n        onChange: this.handleSelectChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.countries.map(function (data) {\n        return React.createElement(Option, {\n          value: data.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, data.name);\n      }))), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Registrar nueva sucursal\"))));\n    }\n  }]);\n\n  return SucursalRegister;\n}(React.Component);\n\n;\nexport default SucursalRegister;","map":{"version":3,"sources":["C:\\Users\\Administrador\\Desktop\\emma\\ecuador\\frt\\src\\routes\\Sucursales\\register.js"],"names":["React","Form","Button","Icon","Input","Select","Link","axios","Option","baseURL","SucursalRegister","state","countries","formValue","token","localStorage","getItem","handleSubmit","event","preventDefault","post","variables","name","country","states","address","query","headers","then","data","console","log","props","history","push","catch","err","message","handleSelectChange","setState","handleChange","target","value","res","edges","padding","map","id","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Form, Button,Icon,Input, Select} from \"antd\";\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nconst { Option } = Select\r\nconst baseURL = 'http://74.127.61.115:9900/graphql';\r\n\r\n\r\nclass SucursalRegister extends React.Component{\r\n\tstate = {\r\n\t\tcountries:[],\r\n\t\tformValue:{},\r\n\t\ttoken:localStorage.getItem(\"token\"),\r\n\r\n\t}\r\n\r\n\thandleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\taxios.post(baseURL,{\r\n  \t\tvariables:{\r\n  \t\t\tname:this.state.formValue.name,\r\n  \t\t\tcountry:this.state.formValue.country,\r\n  \t\t\tstate:this.state.formValue.states,\r\n  \t\t\taddress:this.state.formValue.address,\r\n  \t\t},\r\n  \t\tquery:`\r\n\t\t\tmutation createNewBranchOffice($name: String!, $country: ID!, $state: String!, $address: String!){\r\n\t\t\t\tcreateBranchOffice(\r\n\t\t\t    name: $name,\r\n\t\t\t    country: $country,\r\n\t\t\t    state: $state,\r\n\t\t\t    address: $address\r\n\t\t\t  ){\r\n\t\t\t    id,\r\n\t\t\t    name,\r\n\t\t\t    country{\r\n\t\t\t      id,\r\n\t\t\t      name,\r\n\t\t\t      currency{\r\n\t\t\t        id,\r\n\t\t\t        name,\r\n\t\t\t        short\r\n\t\t\t      },\r\n\t\t\t      states\r\n\t\t\t    },\r\n\t\t\t    state,\r\n\t\t\t    address\r\n\t\t\t  }\r\n\t\t\t}\r\n  \t\t`,\r\n\t\theaders: {\r\n    \t\t'x-token':this.state.token,\r\n    \t\t'Content-Type': 'application/json'\r\n\r\n  \t\t},  \t\t\r\n\t\t}).then((data) => {\r\n\t\t\tconsole.log(data)\r\n\t\t\tthis.props.history.push('/sucursales');\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err.message)\r\n\t\t})\r\n\t}\t\r\n\r\n\tcomponentDidMount(){\r\n\t    axios.post(baseURL,{\r\n\t      query:`\r\n\t        {\r\n\t          countries{\r\n\t            edges{\r\n\t              id,\r\n\t              name,\r\n\t              currency{\r\n\t                name,\r\n\t                short,\r\n\t                id\r\n\t              },\r\n\t              states\r\n\t            }\r\n\t          }\r\n\t        }\r\n\t      `\r\n\t    }).then((res) => {\r\n\t      this.setState({\r\n\t        countries:res.data.data.countries.edges\r\n\t      })\r\n\t    }).catch((err) =>{\r\n\t      console.log(err.message)\r\n\t    })\r\n  \t}\r\n\r\n\thandleSelectChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tformValue:{\r\n\t\t\t\t...this.state.formValue,\r\n\t\t\t\tcountry:event\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\thandleChange = (event) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tformValue:{\r\n\t\t\t\t\t...this.state.formValue,\r\n\t\t\t\t\t[event.target.name]:event.target.value,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\trender(){\t\r\n\t\tconsole.log(this.state.formValue)\r\n\t  return (\r\n\t  \t<div style={{padding: '30px' }}>\r\n\t      <h3>TÃº Seccion de registro de sucursales asociados</h3>\t  \r\n\t\t\t<Link to='/sucursales'>Regresar <Icon type=\"undo\" /></Link>\t\t\t\r\n\t\t\t<Form layout='vertical' onSubmit={this.handleSubmit}>\r\n\t\t\t\t<Form.Item label=\"Nombre de la sucursal\">\r\n\t\t\t\t\t<Input name=\"name\" value={this.state.formValue.name} onChange={this.handleChange}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Direccion\">\r\n\t\t\t\t\t<Input name=\"address\" value={this.state.formValue.address} onChange={this.handleChange}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Estado\">\r\n\t\t\t\t\t<Input name=\"states\" value={this.state.formValue.states} onChange={this.handleChange}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Pais\">\r\n\t\t\t\t\t<Select defaultValue=\"Seleccion\" onChange={this.handleSelectChange}>\r\n\t\t\t\t\t\t{this.state.countries.map((data) => {\r\n\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t<Option value={data.id}>{data.name}</Option>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</Form.Item>\t\t\t\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Registrar nueva sucursal</Button>\r\n\t\t\t\t</Form.Item>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t</Form>\r\n\t    </div>\r\n\t  );\r\n\t}\r\n};\r\n\r\nexport default SucursalRegister;\r\n"]},"metadata":{},"sourceType":"module"}